// define x
i32 x = 0

// change it in a scope
fn() -> i32 {
  i32 x = 1
  assert(x == 1)
  return 0
}()

// it should revert to 0
assert(x == 0)

// testing scope restoration with multiple layers

i32 x = 1
i32 y = 2

fn() -> i32 {
  i32 x = 10
  i32 y = 20
  return 0
}()

assert(x == 1)
assert(y == 2)
